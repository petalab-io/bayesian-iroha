# Bayesian Iroha: プロフェッショナル分析規約

## 1. 命名規則とスタイル
- **変数命名**: `[主語・目的]_[修飾語]`（スネークケース）を厳守。
  - 例: `lcp_obs`, `diff_ms`, `profit_distribution`
- **関数命名**: 動詞から開始。
  - 例: `generate_data()`, `run_simulation()`
- **型ヒントとDocstring**: 全ての関数に付与。Googleスタイルを標準とする。

## 2. 意思決定フレームワーク（3層フィルタリング）
分析結果の評価は以下の3段階で行うこと。
1. **HDI (統計実証)**: 94% HDIが0を跨がないか。
2. **ROPE (実質等価性)**: 変化が体感閾値（例: ±50ms）を超えているか。
3. **ROI (経済評価)**: ビジネス感度とPVを加味した利益分布がプラスか。

## 3. ドキュメント構成（二階建て構造）
アウトプットを生成する際は、役割を明確に分けること。
- **README.md (看板)**: 経営層向けの「判断基準」と「結論」。コードは最小限。
- **analysis.ipynb (厨房)**: 技術者向けの「プロセス」と「実証ログ」。EDA、モデル診断、詳細な解釈を含む。

## 4. Git コミットメッセージ規約
分析の試行錯誤を可視化するため、以下のプレフィックスを使用すること。
- `feat:` : 分析手法の追加、新しい図の作成
- `data:` : データの読み込み、前処理、Cleaningの変更
- `model:`: モデルの構築・更新、パラメータ調整
- `viz:`  : 可視化スタイルの調整、Quartoのレイアウト変更
- `docs:` : READMEの修正、解説テキストの追記
- `fix:`  : コードのバグ修正、ロジックのミス修正

## 5. Pull Request (PR) 規約
PRの概要欄は、技術的誠実さとビジネス視点を証明する場とする。以下の構造を維持すること。
- **なぜこの手法を選んだのか (Why)**: 階層ベイズや非中心化等を採用した根拠。
- **分析の結果から得られたインサイト (Insight)**: 意思決定に直結する重要な発見。
- **次に繋がる課題 (Next Step)**: 今回の分析の限界や、リリース後のモニタリング計画。

## 6. 解説スタイル
- **2段構えの解説**: 専門用語には必ず【定義】（技術的説明）と【直感】（比喩的説明）を併記する。